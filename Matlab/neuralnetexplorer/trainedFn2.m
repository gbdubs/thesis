function [y1] = trainedFn2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 01-Mar-2016 10:38:23.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx10 matrix, input #1
% and returns:
%   y = Qx10 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [0;0;0;0;0;0;0;0;0;0];
x1_step1_gain = [2;2;2;2;2;2;2;2;2;2];
x1_step1_ymin = -1;

% Layer 1
b1 = [1.8366362022328179826;0.61287095219549014846;-1.0818807825098180064;-0.39322854161294101827;-0.27298309573988122079;0.46957002731890562508;-0.64087776249266947826;-0.52295607980613778576;1.4089932810249108375;0.82572765299731365474];
IW1_1 = [0.14492968906748437963 0.39640694002084309044 0.21217815295154315858 0.28499439417167582445 0.31661897064844657379 0.43136319820789165158 -0.080363582815762862888 0.50219158207753977763 -0.57493450024059400416 0.54523056726920671178;0.078110505870536597883 0.14227568286114938845 0.065199002696741295559 0.14386539694045363813 0.19286416280406132318 0.080735218378961748353 0.27290354372564268326 0.16502104907227949093 -0.11623912451772427934 0.11386394333224632291;0.15009226930488617224 -0.51651557435402284391 0.22451120486409326116 -0.90151699006758223565 -0.24716014031861574529 -0.14313176135606012207 0.25632502432413595272 -0.017362871799450584065 0.10371382647552404577 -0.28499864576570482777;0.65281508549049482859 -0.17351195503741309589 0.46473713533762972538 -0.067214094246861366688 -0.068742296109149864103 0.46975699484975819153 0.047232331255796074221 -0.63626073419230211314 -0.18038853350723837998 -0.17519191658129168454;0.19894263628980066172 0.10938939300061105431 0.54959965742352789864 -0.29596052554157414871 -0.231120992176373663 0.33711397724969244249 -0.059127972409313736546 0.40864642116269822569 -0.16745701738194140873 0.10788354165622611458;0.20497451818120379641 0.33817702042226016612 0.1216074659455440854 0.43145200604542693901 0.021681433830873647617 0.3323744128187918756 -0.24307878623051626388 0.076143535152649863273 0.4145295145533242076 0.52093430248508099112;-0.10571561976162707763 -0.15434142720423957296 -0.15093551487423700896 -0.1210821217326913668 -0.15076826804109638713 -0.13636275896808441876 -0.049531347742505164866 -0.21937836519552919579 -0.46450520180527710146 -0.16009794452761688666;-0.33073665142526109673 0.34054193978605024062 -0.24704945355758670122 0.18424950814073184913 0.16637167136384148347 0.22342571771987831952 -0.20856233937022877756 0.37879390097767701162 -0.72516975413255979621 0.43065873395808207391;0.88399501003596681059 0.14667192213165125558 0.90967385893126173624 0.22253827757144908905 -0.17932957999539658744 0.64649075291751456618 0.15093721881633112569 0.30229985644566048641 -0.11258076582000195454 -0.10866515410455698798;0.24286705914399225881 0.031510832274054753621 0.14703221762878093681 0.11666437891850402198 0.083854414633085613828 0.072497711278617746333 0.22164596004952877295 -0.074981981575087147673 0.31282156233216223962 0.036866075199312883792];

% Layer 2
b2 = [0.1450411563778570001;0.060619375534340165512;0.13991216134450570885;0.19602552630969793945;0.052678212154659481703;0.17245208552895449627;0.18220721232821812663;0.043660310197687846046;0.065080036116206649299;0.26598808587683242521];
LW2_1 = [0.0089833427646305551162 0.43969699028177128275 -0.085668530668669043426 0.034416874574904096629 0.084760820405486630991 -0.050345079884702034767 -0.48502290268877140678 0.12471936852943152352 0.074654729950057660548 0.4838163797048499748;0.1238926075997849735 0.45284701082435752095 0.0081540016902757264661 -0.021709505101874488481 0.022250385830505856055 0.039000800194799074838 -0.4226137474033151431 0.1126960669613295829 0.071926707689354343889 0.48576613192583101286;0.15325581267426230392 0.41567109975016791612 0.060974536295421599696 0.078033351037812268003 -0.036885983093706040115 0.028098319257258950327 -0.59768824431444722567 0.17312366701147999248 0.044169071246389794705 0.36675907264677021224;-0.016951668241668021997 0.47804135693827687348 -0.18379421021892841659 0.09918689679892885025 0.23042238058819353164 -0.053224634496273216799 -0.50828385752982663259 0.059791193670040695962 -0.014747371341437425646 0.3504473377398859002;0.14822702188712766347 0.4238328554463552944 -0.017120340163049509175 -0.033591662503333452605 0.027578801330661414926 0.057257857422011095017 -0.44258321269627576289 0.028135778182929109537 0.055031908316773264778 0.48528670792590444805;0.13469859690505503469 0.59721868960077029165 0.027508213594265494562 0.12546061389531693031 0.0036376188501771157882 0.041417256252036821484 -0.65819651478903862252 0.022435949824529899388 -0.042191244387454557296 0.18081479873835862304;0.13483618463044447222 0.45616987534272968041 0.010957548017369226831 0.11215788098874755752 0.13322545743192459877 0.069032686642637966501 -0.51685874966006362108 0.082800402259476629796 -0.056246855287626337794 0.41471510947086082099;0.12641997286043157867 0.54603251605842817451 -0.045682255518470160638 -0.030295907748039752061 0.012431707056771129638 0.071686611059582891481 -0.46128255228432518686 0.0042132004056180880069 0.076037932535726146521 0.30301647615964372173;0.18722748909747166657 0.20866133298382660843 0.024326854412258378663 -0.016576778873228538436 0.1016102681656352591 -0.013063448512050712669 -0.41292655513639819898 0.19032149234909773172 0.020455260835790987917 0.73190306876364286115;0.040921971842464349711 0.65010488182602343965 -0.075903050750737471875 0.15192612164701915778 0.10940667483647543989 0.11317003947778528361 -0.58325800351806678101 -0.010901973609367288098 -0.02396385408977414963 0.057886231543050399584];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = [2;2;2;2;2;2;2;2;2;2];
y1_step1_xoffset = [0;0;0;0;0;0;0;0;0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
